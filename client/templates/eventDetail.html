<template name="eventDetail">
  <div id="eventDetail" class="ui small modal">
    <div id="eventDetailContent" class="modal-detail">
      <div class="right close" id="closeEventDetail">
        <i class="large remove icon"></i>
      </div>

      {{#with selectedEvent}}
        <div class="eventNameAndDate">
          <span class="name">{{name}}:</span>
          <span class="formattedDates">{{formattedDates startDateTime endDateTime}}</span>
        </div>

        {{#if isInPast}} 
        <div class="eventIsInPast">(This event is in the past)</div>
        {{/if}}

        <!-- TODO: recurrence -->
        <div class="eventDescription">{{description}}</div>

        {{#with getLocation}}
        <div class="eventLocation">Location: 
        {{#if city}}{{city}},{{/if}}
        {{country}}</div>
        {{/with}}

        {{#with getContact}}
        <div class="eventContact">Contact: {{name}}</div>
        {{/with}}

        {{#if fbEvent}}
        <div class="eventFbEvent">
          <a href="{{fbEvent}}" target="_blank">Facebook Event</a>
        </div>
        {{/if}}

        {{#if eventUri}}
        <div class="eventUri">
          <a href="{{eventUri}}" target="_blank">Website</a>
        </div>
        {{/if}}
        
        <div class="more" >
          {{#if canEdit}}<a href="/events/{{_id}}/edit">Edit this event</a> |{{/if}}
          <a href="/events/{{_id}}">More information</a>
        </div>
      {{/with}}
    </div>
  </div>
</template>

<!--
  name: String,
  description: String,
  startDateTime: Date,
  endDateTime: Date,
  recurrencePattern: Number,
  recurrenceDuration: Number,
  location: String, // id corresponding to Location collection
  contact: String, // id corresponding to Person collection
  submitterName: String,
  fbEvent: String,
  eventUri: String,
  ticketsOnSale: Boolean, 
  ticketUri: String,
  uris: [String]
-->